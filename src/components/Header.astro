---
const { pathname = '/' } = Astro.props;
const navItems = [
  { href: '/', label: 'トップ' },
  { href: '/services', label: 'サービス' },
  { href: '/about', label: '会社情報' },
];
---
<header class="fixed top-0 inset-x-0 z-40 bg-white border-b border-slate-100">
  <div class="section-container flex items-center justify-between h-16">
    <a href="/" class="flex items-center gap-3 font-display text-lg text-brand-dark">
      <img src="/logo.png" alt="WAKU BUILD ロゴ" class="h-10 w-auto" loading="lazy" decoding="async" />
    </a>
    <div class="hidden md:flex items-center gap-6">
      <nav class="flex items-center gap-6 text-sm font-medium">
        {navItems.map((item) => {
          const active = pathname === item.href;
          return (
            <a
              href={item.href}
              class={`nav-link ${active ? 'is-active' : ''}`}
            >
              {item.label}
            </a>
          );
        })}
      </nav>
      <a href="/contact" class="header-cta inline-flex gap-2">
        <span class="inline-flex h-6 w-6" aria-hidden="true">
          <svg viewBox="0 0 24 24" class="h-full w-full fill-current" aria-hidden="true" focusable="false">
            <path d="M3.5 6.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25V6.75zm1.52.25 6.64 4.64a1 1 0 0 0 1.16 0L19.48 7H5.02zM19.5 17V8.34l-5.74 4a2.5 2.5 0 0 1-2.92 0l-5.74-4V17H19.5z"/>
          </svg>
        </span>
        お問い合わせ
      </a>
    </div>
    <a href="/contact" class="header-cta hidden sm:inline-flex md:hidden gap-2">
      <span class="inline-flex h-6 w-6" aria-hidden="true">
        <svg viewBox="0 0 24 24" class="h-full w-full fill-current" aria-hidden="true" focusable="false">
          <path d="M3.5 6.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25V6.75zm1.52.25 6.64 4.64a1 1 0 0 0 1.16 0L19.48 7H5.02zM19.5 17V8.34l-5.74 4a2.5 2.5 0 0 1-2.92 0l-5.74-4V17H19.5z"/>
        </svg>
      </span>
      お問い合わせ
    </a>
    <details class="md:hidden dropdown">
      <summary class="list-none flex items-center justify-center h-10 w-10 rounded-lg border border-slate-200 shadow-sm">
        <span class="sr-only">メニュー</span>
        <div class="space-y-1">
          <span class="block h-0.5 w-6 bg-slate-800"></span>
          <span class="block h-0.5 w-6 bg-slate-800"></span>
          <span class="block h-0.5 w-6 bg-slate-800"></span>
        </div>
      </summary>
      <div class="absolute right-4 mt-2 w-48 rounded-xl border border-slate-100 bg-white shadow-xl p-3 space-y-1">
        {navItems.map((item) => {
          const active = pathname === item.href;
          return (
            <a
              href={item.href}
              class={`nav-link-mobile ${active ? 'is-active' : ''}`}
            >
              {item.label}
            </a>
          );
        })}
        <a href="/contact" class="btn-primary w-full justify-center text-center">無料相談</a>
      </div>
    </details>
  </div>
</header>
